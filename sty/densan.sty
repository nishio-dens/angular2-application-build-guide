% Package
\usepackage{fancyhdr}
\usepackage[T1]{fontenc}
\usepackage{newtxtext, newtxmath}
\usepackage{color}
\usepackage{titlesec}
\usepackage{fancybox}

% Draft時のみ利用
\usepackage{color}
\fancyput(-0.7in,-10.5in){
  \color[rgb]{0.9,0.9,0.9}{
    \rotatebox{0}{
      \scalebox{1}{Angular Application Build Guide Draft Version. 01 Feb 2017}
    }
  }
}

% 幅チェック時に利用する
% \usepackage{showframe}

% ハイパーリンクの色修正
\hypersetup{%
  linkcolor=black%
}%

% ページの余白設定
\addtolength{\oddsidemargin}{-.875in}
\addtolength{\evensidemargin}{-.875in}
\addtolength{\textwidth}{1.6in}
\addtolength{\textheight}{0.4in}

% PageNumber 重複回避
\pagenumbering{Roman}

% Header 生成
\definecolor{AngularRed}{RGB}{157,16,45}
\definecolor{darkslateblue}{RGB}{72,61,139}
\definecolor{Gray}{RGB}{105,105,105}
\definecolor{WhiteGray}{RGB}{205,205,205}

%% Chapter
\titleformat{\chapter}[block]
{}{}{0pt}{
  \fontsize{20pt}{20pt}\selectfont\filleft
}[
  \hrule \Large{\filleft 第 \thechapter 章}
]

%% Section
\titleformat{\section}[block]
{}{}{0pt}
{
  \colorbox{Gray}{\begin{picture}(0,15)\end{picture}}
    \hspace{0pt}
          \normalfont \fontsize{15pt}{15pt}\bfseries \thesection
            \hspace{4pt}
          }
          [
            \begin{picture}(100,0)
              \put(3,13){\color{Gray}\line(1,0){500}}
            \end{picture}
            \\
            \vspace{-30pt}
          ]
%% SubSection
\titleformat{\subsection}[block]
{}{}{0pt}
{
  \colorbox{Gray}{\begin{picture}(0,10)\end{picture}}
    \hspace{0pt}
          \normalfont \fontsize{12pt}{12pt}\bfseries 
            \hspace{0pt}
          }
          [
            \begin{picture}(100,0)
              \put(3,11){\color{Gray}\line(1,0){500}}
            \end{picture}
            \\
            \vspace{-10pt}
          ]


% Style
\pagestyle{fancy}
\lhead{\gtfamily\sffamily\bfseries\upshape \leftmark}
\chead{}
\rhead{\gtfamily\sffamily\bfseries\upshape \rightmark}
\renewcommand{\sectionmark}[1]{\markright{\thesection~#1}{}}
\renewcommand{\chaptermark}[1]{\markboth{\prechaptername\ \thechapter\ \postchaptername~#1}{}}
\renewcommand{\headfont}{\gtfamily\sffamily\bfseries}

\fancypagestyle{plainhead}{%
\fancyhead{}
\fancyfoot{} % clear all header and footer fields
\fancyfoot[CE,CO]{\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}}

%% using Helvetica as sans-serif
\renewcommand{\sfdefault}{phv}

%% フォントを丸く
% \renewcommand{\kanjifamilydefault}{\mgdefault}
% \renewcommand{\familydefault}{\sfdefault}

% for listings
\renewcommand{\lstlistingname}{List}
\lstset{%
  breaklines=true,%
  breakautoindent=false,%
  breakindent=0pt,%
  fontadjust=true,%
  backgroundcolor=\color{shadecolor},%
  frame=single,%
  framerule=0pt,%
  basicstyle=\ttfamily\scriptsize,%
  commentstyle=\color{reviewgreen},%
  identifierstyle=\color{reviewblue},%
  stringstyle=\color{reviewred},%
  keywordstyle=\bfseries\color{reviewdarkred},%
}

% サンプルコード

%% サンプルコードを更に小さく
\renewenvironment{reviewemlist}{%
  \medskip\footnotesize\begin{shaded}\setlength{\baselineskip}{1.2zw}\begin{alltt}}{%
  \end{alltt}\end{shaded}}

\renewenvironment{reviewlist}{%
  \begin{shaded}\footnotesize\setlength{\baselineskip}{1.2zw}\begin{alltt}}{%
  \end{alltt}\end{shaded}\par\vspace*{0.5zw}}

\renewenvironment{reviewcmd}{%
  \color{white}\medskip\footnotesize\begin{shadedb}\setlength{\baselineskip}{1.2zw}\begin{alltt}}{%
  \end{alltt}\end{shadedb}}



\sloppy

